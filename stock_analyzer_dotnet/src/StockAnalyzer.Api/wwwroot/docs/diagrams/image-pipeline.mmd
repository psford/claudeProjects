%% MANUAL - Update when image processing changes
graph LR
    subgraph Background["Background Service"]
        ICS["ImageCacheService<br/><small>Maintains 50 cats, 50 dogs</small>"]
    end

    subgraph Processing["Image Processing"]
        Fetch["Fetch Random Image"]
        ML["YOLOv8 Detection<br/><small>Find animal bounding box</small>"]
        Crop["Smart Crop<br/><small>320x150 target</small>"]
        Cache["Add to Cache"]
    end

    subgraph Sources["Image Sources"]
        Cat["cataas.com/cat"]
        Dog["dog.ceo/api"]
    end

    ICS --> Fetch
    Fetch --> Cat
    Fetch --> Dog
    Cat --> ML
    Dog --> ML
    ML --> Crop
    Crop --> Cache
    Cache --> ICS

    style Background fill:#8B5CF6,color:#fff
    style Processing fill:#10B981,color:#fff
    style Sources fill:#F59E0B,color:#fff
