%% MANUAL - Update when services change
graph TB
    subgraph API["API Layer (Program.cs)"]
        Endpoints["Minimal API Endpoints"]
    end

    subgraph Services["Core Services"]
        SDS["StockDataService<br/><small>Yahoo Finance Integration</small>"]
        NS["NewsService<br/><small>Finnhub API Integration</small>"]
        AS["AnalysisService<br/><small>Technical Analysis</small>"]
        IPS["ImageProcessingService<br/><small>YOLOv8 ML Model</small>"]
        ICS["ImageCacheService<br/><small>Background Caching</small>"]
    end

    subgraph External["External APIs"]
        YF["Yahoo Finance"]
        FH["Finnhub"]
        CATAAS["cataas.com"]
        DOGCEO["dog.ceo"]
    end

    Endpoints --> SDS
    Endpoints --> NS
    Endpoints --> AS
    Endpoints --> ICS

    SDS --> YF
    NS --> FH
    AS --> NS
    ICS --> IPS
    IPS --> CATAAS
    IPS --> DOGCEO

    style API fill:#3B82F6,color:#fff
    style Services fill:#10B981,color:#fff
    style External fill:#F59E0B,color:#fff
